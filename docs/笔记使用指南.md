# 笔记内部使用指南

本文档说明如何在 Obsidian 笔记中定义和使用边关系。

---

## 方式1：Frontmatter（推荐）

在文件头部的 YAML frontmatter 中定义关系。

### 单个关系

```yaml
---
supports: "[[热力学第二定律]]"
---
```

### 多个目标（数组形式）

```yaml
---
derived_from:
  - "[[玻尔兹曼熵]]"
  - "[[信息论]]"
---
```

### 多种关系

```yaml
---
supports: "[[热力学第二定律]]"
refutes: "[[永动机]]"
derived_from:
  - "[[玻尔兹曼熵]]"
  - "[[吉布斯熵]]"
equivalent_to: "[[信息熵]]"
---
```

**优点**：
- ✅ 关系集中，易于管理
- ✅ 适合定义文档级核心关系
- ✅ 插件解析效率高

---

## 方式2：内联关系（Dataview 语法）

在正文中使用 Dataview 的 inline field 语法标注关系。

### 独立行形式

```markdown
熵是热力学的核心概念。

supports:: [[热力学第二定律]]
derived_from:: [[玻尔兹曼熵公式]]
```

### 行内嵌入形式

```markdown
这个观点 [supports:: [[热力学第二定律]]]，但 [refutes:: [[永动机理论]]]。

克劳德·香农在1948年的论文中 [derived_from:: [[玻尔兹曼熵]]] 借用了热力学概念。
```

### 列表形式

```markdown
## 相关概念

- [instance_of:: [[物理量]]]
- [part_of:: [[统计力学]]]
- [equivalent_to:: [[信息熵]]]
```

**优点**：
- ✅ 与上下文紧密关联
- ✅ 适合段落级的临时注释
- ✅ 阅读时能看到关系类型

**缺点**：
- ⚠️ 关系分散，难以全局查看
- ⚠️ 需要安装 Dataview 插件
- ⚠️ 解析效率较低

---

## 两种方式对比

| 特性 | Frontmatter | 内联关系 |
|------|------------|----------|
| **可读性** | 集中清晰 | 上下文相关 |
| **维护性** | 容易管理 | 分散难找 |
| **语义层级** | 文档级 | 段落级 |
| **依赖** | 无 | 需要 Dataview |
| **推荐场景** | 核心关系 | 补充说明 |

---

## 最佳实践

### ✅ 推荐

```yaml
---
# 在 frontmatter 定义核心关系
supports: "[[热力学第二定律]]"
derived_from: "[[玻尔兹曼熵]]"
---

# 熵

熵是描述系统无序程度的物理量。

## 历史

克劳德·香农在1948年 [借鉴:: [[玻尔兹曼熵公式]]] 定义了信息熵。
```

### ⚠️ 不推荐

```markdown
# 熵

这个概念 [supports:: [[热力学第二定律]]]，
同时 [refutes:: [[永动机]]]，
并且 [derived_from:: [[玻尔兹曼熵]]]...

（所有关系都用内联，难以维护）
```

---

## 插件配置建议

在插件设置中可以选择：

1. **仅解析 Frontmatter**（推荐）
   - 性能最佳
   - 关系清晰

2. **同时支持 Frontmatter + 内联**
   - 需要 Dataview
   - 灵活但复杂

**建议**：核心关系用 **Frontmatter**，偶尔的上下文注释用 **内联**。
